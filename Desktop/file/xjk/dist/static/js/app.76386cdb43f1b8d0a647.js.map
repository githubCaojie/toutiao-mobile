{"version":3,"sources":["webpack:///./src/store/index.js","webpack:///./src/App.vue?59b5","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/network/api.js","webpack:///./src/network/request.js","webpack:///./src/main.js"],"names":["Vue","use","Vuex","store","Store","state","userInfo","eval","localStorage","getItem","token","callbackurl","location","protocol","host","mutations","handleUserInfo","setItem","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","handleToken","getters","actions","modules","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","Router","originalPush","prototype","push","onResolve","onReject","call","catch","err","router","routes","path","redirect","component","e","then","bind","meta","title","requireAuth","api","hasUser","getCode","login","logOut","getRole","openPurchase","getTodoList","getlistCount","axios","defaults","withCredentials","baseURL","tokenApi","interceptors","response","status","Message","error","message","onClose","params","mobile","linkmenPhone","post","Qs","stringify","res","removeItem","commit","promise_default","a","reject","request","url","data","arguments","length","undefined","includes","resolve","headers","get","less","ElementUI","beforeEach","to","from","next","document","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.76386cdb43f1b8d0a647.js","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  state: {\n    userInfo: '' || eval(\"(\"+localStorage.getItem('userInfo')+\")\"),\n    token: '' || eval(\"(\"+localStorage.getItem('token')+\")\"),\n    callbackurl: location.protocol + location.host + '/login'\n  },\n  mutations: {\n    handleUserInfo: (state, userInfo) => {\n      state.userInfo = userInfo;\n      localStorage.setItem('userInfo', JSON.stringify(userInfo))\n    },\n    handleToken: (state, token) => {\n      state.token = token;\n      localStorage.setItem('token', JSON.stringify(token))\n    },\n  },\n  getters: {\n    userInfo: (state) => state.userInfo,\n    token: (state) => state.token,\n    callbackurl: (state) => state.callbackurl\n  },\n  actions: {\n    \n  },\n  modules: {\n    \n  }\n})\n\nexport default store\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-da3e5910\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-da3e5910\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-da3e5910\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style lang=\"less\">\n  @import \"assets/css/base.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\n\nconst originalPush = Router.prototype.push\nRouter.prototype.push = function push(location, onResolve, onReject) {\nif (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject)\n  return originalPush.call(this, location).catch(err => err)\n}\n\nexport default new Router({\n  // mode: 'history',\n  routes: [\n    {\n      path: '',\n      redirect: '/login'\n    },\n    {\n      path: '/login',\n      name: 'login',\n      component: () => import('../view/user/userlogin.vue'),\n      meta: {\n        title: '登录'\n      }\n    },\n    {\n      path: '/home',\n      name: 'home',\n      component: () => import('../view/home/home.vue'),\n      meta: {\n        title: '湘交科',\n        requireAuth:true\n      }\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export default {\n  hasUser: '/hncrportal/menhu/hasUser',  // 判断用户是否存在\n  getCode: '/hncrportal/menhu/getCode',  // 验证码获取\n  login: '/hncrportal/menhu/login',  // 登录\n  logOut: '/hncrportal/menhu/logOut',  // 退出登陆\n  getRole: '/hncrportal/home/getRole',  // 获取经营生产管理类按钮\n  openPurchase: '/hncrportal/home/openPurchase',  // 跳转对应系统\n  getTodoList: '/hncrportal/todoList/list', // 获取待办列表\n  getlistCount: '/hncrportal/todoList/listCount',  // 获取待办的数量\n}\n\n\n// WEBPACK FOOTER //\n// ./src/network/api.js","import axios from 'axios';\nimport Qs from 'qs'\nimport {Message} from 'element-ui'\nimport router from '../router/index'\nimport store from '../store/index'\nimport api from './api'\n\naxios.defaults.withCredentials = true\naxios.defaults.baseURL ='http://xinxh.tianyi.hnjtcloud.com';\n\n// 需要请求头带token的api\nconst tokenApi = [\n  api.getRole,\n  api.getlistCount,\n  api.getTodoList,\n  api.logOut,\n  api.openPurchase\n]\n\naxios.interceptors.response.use(\n  response => {\n    if(response.status == 200) {\n      return response;\n    }else {\n      return Message.error({\n        message: '对不起，服务器开了点小差，请重新登录',\n        onClose: function () {\n          let params = {\n            token: store.getters.token,\n            mobile: store.getters.userInfo.linkmenPhone\n          }\n          return axios.post(\n            api.logOut,\n            Qs.stringify(params)\n          )\n          .then(res => {\n            localStorage.removeItem(\"userInfo\");\n            localStorage.removeItem(\"token\");\n            store.commit('handleUserInfo', '')\n            store.commit('handleToken', '')\n            return router.push({\n              name: 'login'\n            })\n          }\n          )\n        }\n      })\n    }\n  },\n  error => {\n    return Promise.reject(error)\n  }\n)\n\nexport default {\n  post(url,data={}){\n    if(tokenApi.includes(url)) {\n      return new Promise((resolve,reject) => {\n        axios.post(\n          url,\n          Qs.stringify(data),\n          {\n            headers: {\n              token: store.getters.token\n            }\n          }\n        )\n        .then(response => {\n          resolve(response.data);\n        },err => {\n          reject(err)\n        })\n      })\n    }else {\n      return new Promise((resolve,reject) => {\n        axios.post(url,Qs.stringify(data))\n          .then(response => {\n            if(response == undefined) {\n              resolve(response)\n            }else {\n              resolve(response.data);\n            }\n          },err => {\n            reject(err)\n          })\n      })\n    }\n  },\n  get(url,params={}){\n    if(tokenApi.includes(url)) {\n      return new Promise((resolve,reject) => {\n        axios.get(\n          url + '?' + Qs.stringify(params),\n          {\n            headers: {\n              token: store.getters.token\n            }\n          }\n        )\n        .then(response => {\n          resolve(response.data);\n        })\n      })\n    }else {\n      return new Promise((resolve,reject) => {\n        axios.get(\n          url + '?' + Qs.stringify(params),\n        )\n        .then(response => {\n          resolve(response.data);\n        })\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/network/request.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\n\n// 引用less预处理器\nimport less from'less'\nVue.use(less)\n\n// 引用element-ui\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nVue.use(ElementUI);\n\nrouter.beforeEach((to, from, next) => {\n  if(to.meta.requireAuth) {\n    if(store.state.userInfo) {\n      next()\n    }else {\n      next({path: '/login'})\n    }\n  }\n  // 路由发生变化修改页面Title\n  if (to.meta.title) {\n    document.title = to.meta.title\n  }\n  next()\n})\n\n// 挂载封装的axios\nimport request from './network/request'\nimport api from './network/api'\nVue.prototype.request = request\nVue.prototype.api = api\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}