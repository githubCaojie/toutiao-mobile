<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<template th:substituteby="framework/pageset.html"></template>
<title>作战指挥中心</title>
</head>
<body style="background-color: transparent;">
	<div id="testDiv" style="width: 1500px;height:800px;"></div>
</body>
<script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js"></script>
<script type="text/javascript">

$(function(){
	getChart();
})

function getChart() {
	$.request({
		url : $$pageContextPath + 'hyOpcomctrApi/czklwcqk?prjId=102&year=2021',
		success : function(response){
			var data = response.parameters.data;
			var month = data.month;
			var jhcz = data.jhcz;
			var sjcz = data.sjcz;
			var klJhcz = data.klJhcz;
			var klSjcz = data.klSjcz;
			var dom = document.getElementById("testDiv");
			var myChart = echarts.init(dom);
			
			var colors = ['#5470C6', '#91CC75', '#EE6666', '#0000FF'];
			var option = {
			    title: {
			        text: '产值开累完成情况'
			    },
			    tooltip: {
			        trigger: 'axis'
			    },
			    legend: {
			        data: ['计划产值', '实际产值', '开累计划产值', '开累完成产值']
			    },
			    grid: {
			        left: '3%',
			        right: '4%',
			        bottom: '3%',
			        containLabel: true
			    },
			    toolbox: {
			        feature: {
			            saveAsImage: {}
			        }
			    },
			    xAxis: {
			        type: 'category',
			        data: month
			    },
			    yAxis: {
			        type: 'value'
			    },
			    series: [
			        {
			            name: '开累计划产值',
			            type: 'line',
			            data: klSjcz
			        },
			        {
			            name: '开累完成产值',
			            type: 'line',
			            data: klJhcz
			        },
			        {
			            name: '计划产值',
			            type: 'bar',
			            barWidth:30,
			            data: jhcz
			        },
			        {
			            name: '实际产值',
			            type: 'bar',
			            barWidth:30,
			            data: sjcz
			        }
			    ]
			};
			myChart.setOption(option)
		}
	})
}
</script>
</html>